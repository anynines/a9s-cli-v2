---
tags:
  - a9s
  - changelog
  - anynines-deployment
  - release
keywords:
  - a9s
  - changelog
  - anynines-deployment
  - release

slug: changelog-46.0.0
title: 46.0.0
date: 2024-02-27
---

## 

### Added

- **breaking change** all services: Add new IaaS configuration property `iaas.cf.skip_ssl_validation`. This property can
  be used to skip the validation of the Cloud Foundry (CF) certificate when communicating with CF. This is necessary
  when the CF certificate is signed by a CA which is not trusted by the a9s Data Services components. This new property
  replaces the `iaas.cf_service_guard.skip_ssl_validation` and `iaas.sso-proxy.skip_ssl_validation` properties.
  The value of the `iaas.cf.skip_ssl_validation` property should be set to the value of the removed properties. If for
  whatever reasons the removed properties had different values, an Ops file must be used to configure this accordingly.
- all services: a9s Template Uploader Errand: Introduce a new template for a9s Prometheus containing Grafana 10.
- a9s MariaDB: Make the `expire_log_days` parameter configurable through a custom parameter.
- a9s MySQL: Add a custom parameters structure to the a9s MySQL SPI.
- a9s MySQL: Make the `expire_log_days` parameter configurable through a custom parameter.
- docs: Application Developer: a9s Prometheus: Add a Migration page to the a9s Prometheus documentation detailing the
  migration path from Grafana 8 to Grafana 10. For more information, see Migration.
- docs: Platform Operator: Add a dedicated page explaining the IaaS configuration properties. For more information,
  see a9s IaaS Configuration Properties.
- docs: Platform Operator: a9s Prometheus: Add a Migration Considerations page to the a9s Prometheus documentation
  detailing the migration path from Grafana 8 to Grafana 10 and its limitations. For more information, see
  a9s Prometheus Migration Considerations.

### Changed

- all services: a9s Template Uploader Errand: Add `custom_params` key to a9s MySQL templates and extend them to allow
 adding the custom parameter `binlog_expire_days`
- all services: a9s Template Uploader Errand: Extend the a9s MariaDB templates to allow adding the custom parameter
 `binlog_expire_days`
- all services: a9s Template Uploader Errand: Rename the existing `prometheus2` release to `prometheus-legacy` in the
  previously existing a9s Prometheus' templates to allow the introduction of a new template for Grafana 10 under the
  `prometheus2` release name.
- all services: Update BOSH releases:
  * `bpm` BOSH release to version `1.2.16`
  * `routing` BOSH release to version `0.291.0`
- consul-dns:
  * dnsmasq27 v2.90
- a9s Messaging:
  * a9s Messaging 3.12:
    * Erlang OTP v25.3.2.8
- a9s MongoDB:
  * a9s MongoDB 5.0:
    * OpenSSL v1.1.1w
- a9s MongoDB: SPI: Update dependencies in the a9s MongoDB SPI.
- a9s PostgreSQL:
  * a9s PostgreSQL 15:
    * PostgreSQL 15.6
  * a9s PostgreSQL 13:
    * PostgreSQL 13.14
- a9s Prometheus: Add the `prometheus-legacy` release and update the `prometheus2` release in the Prometheus'
  Enable Beta Services Ops file.
- a9s Prometheus: Update the example a9s Prometheus config to include the addition of the plans using Grafana 10.
  For more information, see prometheus.yml.example.
- docs: Application Developer: a9s MariaDB: Add a section explaining how to use custom parameters. For more
 information, see a9s MariaDB.
- docs: Application Developer: a9s Messaging: Add a9s Messaging 3.7 migration path to "Migration" page.
  For more information, see Migration.
- docs: Application Developer: a9s Prometheus: Add a section explaining Service Instance's plan upgrades to the "Using
  a9s Prometheus" page. For more information, see a9s Prometheus.
- docs: Application Developer: a9s Prometheus: Update the "Migration Support" admonition to specify the limitation to
  plans including Grafana 5 only. For more information, see a9s Prometheus.
- docs: Platform Operator: Add an admonition explaining the limitations of a9s Prometheus' Service Plan migrations to
  the "Service Plans" page. For more information, see Available Templates.
- docs: Platform Operator: Add Grafana 10 to the Sunrise Sunset table. For more information, see
  a9s Platform Operator - Sunrise Sunset.
- docs: Platform Operator: Add the new Prometheus template containing Grafana 10 to the list of available templates.
  For more information, see Available Templates.
- docs: Platform Operator: a9s MariaDB: Add a section explaining custom parameters configuration. For more information,
 see a9s MariaDB.
- BOSH stemcell: all services: Update Jammy stemcell to version `1.379` for internal tests of all supported services.

### Removed

- **breaking change** all services: Clean-up outdated Ops files:
  * `a9s-pg/ops/psql-secgroup.yml`
  * `ops/a9s-set-var-for-routing-version.yml`
  * `ops/backup-service-extensions.yml`
  * `ops/broker-vm-extensions.yml`
  * `ops/consul-dns-runtime-net.yml`
  * `ops/delete-failed-backups.yml`
  * `ops/add-stemcell-centos.yml`
- **breaking change** all services: Remove the Iaas configuration properties `iaas.sso-proxy.skip_ssl_validation` and
  `iaas.sso-cf_service_guard.skip_ssl_validation` in favor of the generic property `iaas.cf.skip_ssl_validation`.
- a9s LogMe2: Remove obsolete key `service_guard_skip_ssl_validation` from the a9s Template Uploader Errand variables.
  This key is not used in the a9s LogMe2 templates and can therefore be safely removed.
- docs: Platform Operator: all services: Remove obsolete "Adding stemcells" section from the "Stemcell" documentation.
  For more information see Stemcells.

### Fixed

- all services: a9s Smoke Tests: Fix the debug output.
- all services: a9s Template Uploader Errand: Fix an issue that caused the a9s Template Uploader Errand to fail if
  there are white-spaces in the value for the `replace-values` property.
- a9s Billing: Add a missing property to the Ops file a9s-billing/ops/add_grafana_route.yml
  so that the Grafana route can also be properly registered when NATS doesn't support TLS yet.
- a9s CF Service Guard: Add fallback logic to handle inconsistencies in CF and the a9s CF Service Guard.
- a9s CF Service Guard: Ensure that permanently failing tasks donâ€™t slow down the management of CF ASGs. The workers
  (`security_groups_synchronizer`) were dramatically slowed down because of permanently failing tasks. This led to the
  problem that CF ASGs for new Service Instances were not created in a proper timeframe or CF ASGs for updated Service
  Instance were not updated in a proper timeframe or CF ASGs for deleted Service Instances were not deleted in a proper
  timeframe.
- a9s LogMe2: SPI: Fix credential deletion regarding users that have already been removed from OpenSearch.
- a9s PostgreSQL: a9s PostgreSQL 15: Fix permissions of the `pg_wal` directory. This issue is causing the a9s Logstash
  PostgreSQL Metrics Plugin' to silently fail to collect `ha.wal_dir_size` and `stat_archiver.wal_files_count` metrics
  and report wrong values.
- docs: Application Developer: Fix typos in the following files
  Using a9s PostgreSQL,
  Migration,
  Using a9s Prometheus.
- docs: Platform Operator: Fix typos in the following files
  a9s Backup Process,
  Grafana Contact Points.
- docs: Platform Operator: Update outdated Ops-Files in the `Rotate Consul certificates` documentation. For more
  information see Rotate Consul certificates.
- docs: Platform Operator: a9s Deployment Updater Errand: Replace the outdated property name `update_type` for the
  current name,`strategy.update.instance_type`, in the following documentation pages:
  a9s Data Services Administrative Tasks,
  a9s Data Service Framework Recovery,
  Generated Certificates and
  Wildcard Certificates.

### Security

- consul-dns: Fix CVEs:
  * CVE-2023-50387
  * CVE-2023-50868
- a9s PostgreSQL: Fix CVEs:
  * CVE-2024-0985

### Upcoming

- a9s Elasticsearch: End of Support: Terminate support, starting from anynines deployment v49.0.0
  (expected end of May 2024), for the following deprecated a9s Data Service versions:

  * a9s Elasticsearch 5
  * a9s Elasticsearch 6
  * a9s Elasticsearch 7

  The creation of new a9s Data Service instances for these deprecated versions will be disabled by default
  in the a9s Data Service Bundle and we will not provide regular support for these versions.
  The corresponding documentation will also be removed.

  Although we will not intentionally break running instances of these unsupported versions, it cannot be guaranteed
  that they still work as expected after an update to v49.0.0.
- a9s Messaging: Deprecation: Prepare for the upcoming deprecation phase, planned for
  the release v49.0.0 (expected end of May), of the following a9s Data Service versions:

  * a9s Messaging 3.7
  * a9s Messaging 3.8

  Please ensure that you organize the migration of your existing instances to a more up-to-date version
  of the same a9s Data Service:

  * for a9s Messaging: a9s Messaging 3.10 and 3.12 are available as GA versions

  The deprecation phase is planned to last until v55.0.0 (expected end of November 2024), in which the deprecated
  versions will become unsupported. The creation of new a9s Data Service instances for these particular versions
  will then be disabled by default in the a9s Data Service Bundle and we will not provide regular support
  for these versions. The corresponding documentation will also be removed. Therefore, we strongly recommend
  that you start your migrations to a supported GA version as soon as possible and complete them
  until the end of the deprecation phase.
  For more information see a9s Platform Operator Sunrise Sunset.

  To inquire about extended support for a deprecated version, please get in contact
  with our sales department at sales@anynines.com.
- a9s PostgreSQL: Deprecation: Prepare for the upcoming deprecation phase, planned for
  the release v49.0.0 (expected end of May), of the following a9s Data Service version:

  * a9s PostgreSQL 11

  Please ensure that you organize the migration of your existing instances to a more up-to-date version
  of the same a9s Data Service:

  * for a9s PostgreSQL: a9s PostgreSQL 13 and 15 are available as GA versions

  The deprecation phase is planned to last until v55.0.0 (expected end of November 2024), in which the deprecated
  version will become unsupported. The creation of new a9s Data Service instances for this particular version
  will then be disabled by default in the a9s Data Service Bundle and we will not provide regular support
  for this version. The corresponding documentation will also be removed. Therefore, we strongly recommend
  that you start your migration to a supported GA version as soon as possible and complete it
  until the end of the deprecation phase.
  For more information see a9s Platform Operator Sunrise Sunset.

  To inquire about extended support for a deprecated version, please get in contact
  with our sales department at sales@anynines.com.
- a9s Redis: Deprecation: Prepare for the upcoming deprecation phase, planned for
  the release v49.0.0 (expected end of May), of the following a9s Data Service version:

  * a9s Redis 5

  Please ensure that you organize the migration of your existing instances to a more up-to-date version
  of the same a9s Data Service:

  * for a9s Redis: a9s Redis 6 and 7 are available as GA versions

  The deprecation phase is planned to last until v55.0.0 (expected end of November 2024), in which the deprecated
  version will become unsupported. The creation of new a9s Data Service instances for this particular version
  will then be disabled by default in the a9s Data Service Bundle and we will not provide regular support
  for this version. The corresponding documentation will also be removed. Therefore, we strongly recommend
  that you start your migrations to a supported GA version as soon as possible and complete them
  until the end of the deprecation phase.
  For more information see a9s Platform Operator Sunrise Sunset.

  To inquire about extended support for a deprecated version, please get in contact
  with our sales department at sales@anynines.com.


