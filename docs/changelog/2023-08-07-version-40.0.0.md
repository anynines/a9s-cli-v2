---
tags:
  - a9s
  - changelog
  - anynines-deployment
  - release
keywords:
  - a9s
  - changelog
  - anynines-deployment
  - release

slug: changelog-40.0.0
title: 40.0.0
date: 2023-08-07
---

## 

### Added

- a9s-pg: Add new database `cfserviceguard`, which is used by the a9s CF Service Guard v2.
- a9s CF Service Guard: Add new deployment manifest `cf-service-guard/cf-service-guard.yml` to deploy the new a9s CF
  Service Guard v2. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-elasticsearch.yml` to add a9s Elasticsearch to the list
  of known service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-mariadb.yml` to add a9s MariaDB to the list of known
  service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-messaging.yml` to add a9s Messaging to the list of known
  service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-mongodb.yml` to add a9s MongoDB to the list of known
  service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-mysql.yml` to add a9s MySQL to the list of known service
  brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-postgresql.yml` to add a9s PostgreSQL to the list of
  known service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-redis.yml` to add a9s Redis to the list of known service
  brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/add-search.yml` to add a9s Search to the list of known
  service brokers for the a9s CF Service Guard. For more information see a9s CF Service Guard: Installation.
- a9s CF Service Guard: Add Ops file `cf-service-guard/ops/support-shared-instances.yml` to enable the support of shared
  service instances for the a9s CF Service Guard. For more information see a9s CF Service Guard: Background Workers.
- a9s Redis: Release a9s Redis 7 as GA. For more information see a9s Platform Operator - Sunrise Sunset.
- a9s Redis: a9s Redis 7: Add User Management Control based on ACL. For more information
  Obtain Service Instance Access Credentials.
- a9s Redis SPI: a9s Redis 7: Add support to unique credentials for service bindings and keys. For more information see
  Obtain Service Instance Access Credentials.
- docs: Application Developer: a9s Redis: Add user credentials management documentation. For more information see
  Obtain Service Instance Access Credentials.
- docs: Application Developer: a9s Redis: Update migration document with the commands for Redis 7 instances. For more
  information see a9s Redis Migration.
- docs: Platform Operator: Mark a9s Redis 7 as GA in the a9s Data Service Release Lifecycle Table. For more information
  see a9s Platform Operator - Sunrise Sunset.
- docs: Platform Operator: a9s Redis: Add user credentials management documentation. For more information see
  User Credentials Management.
- docs: Platform Operator: a9s CF Service Guard: Add dedicated section for the a9s CF Service Guard documentation. For
  more information see a9s CF Service Guard.

### Changed

- **breaking change** all services: The property `iaas.service_guard` is changed to `iaas.cf_service_guard`. The
  references of this variable has been adapted accordingly.
- **breaking change** all services: Use stemcell `ubuntu-jammy` version `1.125` for all internal tests of the  following
  a9s Data Services Framework components: a9s Billing, a9s CF Service Guard. Please make sure to update your stemcells
  accordingly, as shown in the example IaaS configuration.
- **breaking change** all services: Use stemcell `ubuntu-jammy` version `1.125` for all internal tests of the following
  a9s Data Services: a9s LogMe2, a9s MariaDB, a9s Messaging >= 3.8, a9s MongoDB >= 5.0, a9s MySQL 10.4, a9s Prometheus,
  a9s Redis, a9s Search >= 2. Please make sure to update your stemcells accordingly, as shown in the
  example IaaS configuration.
- **breaking change** a9s Messaging: Replace the periods (`.`) with underscores (`_`) of the RabbitMQ queue names in the
  Graphite metrics. This is necessary since a period is reserved as path separator for Graphite metric names. For more
  information see Using a9s Messaging: Queue Metrics.
- all services: Update routing BOSH release to latest version `0.274.0`.
- all services: Update bpm BOSH release to latest version `1.2.3`.
- all services: a9s Smoke Tests: Update `bindingo` to support the new credentials structure of a9s Redis 7.
- all services: a9s Smoke Tests: Add support for the configurable prefix used for Cloud Foundry App Security Groups
  created by the a9s CF Service Guard. For more information see Smoke Tests Properties.
- a9s Prometheus: `promgraf2` BOSH release now includes:
  * elasticsearch_exporter 1.6.0
  * mysqld_exporter 0.15.0
  * postgres_exporter 0.13.1
  * prometheus 2.45.0
  * grafana 8.5.27
  * cadvisor 0.47.2
- a9s Prometheus: `prometheus2` BOSH release now includes:
  * elasticsearch_exporter 1.6.0
  * graphite_exporter 0.14.0
  * mysqld_exporter 0.15.0
  * postgres_exporter 0.13.1
  * prometheus 2.45.0
  * cadvisor 0.47.2
- a9s Redis:
  * a9s Redis 6
    * a9s Redis 6.2.13
  * a9s Redis 7
    * a9s Redis 7.0.12
- docs: Platform Operator: Add documentation how to configure a deployment name prefix per service plan. For more
  information see Deployment Prefix Per Plan.

### Deprecated

- a9s LogMe: Deprecation: Deprecate the following data service version:
  * a9s LogMe

  Please ensure that you organize the migration of your existing instances to a more up-to-date version of the same
  data service:
  * for a9s LogMe: a9s LogMe2 is available as GA version

  This deprecation follows the announcement in the previous release. The deprecation phase is planned to last until
  v42.0.0 (in October 2023), in which the deprecated version will become unsupported.
  The creation of new data service instances for this particular version will then be disabled by default in the a9s
  Data Service Bundle and we will not provide regular support for this version. The corresponding documentation will
  also be removed. Therefore, we strongly recommend that you start your migrations to a supported GA version as soon as
  possible and complete them until the end of the deprecation phase.
  For more information see a9s Platform Operator Sunrise Sunset.

  To inquire about extended support for a deprecated version, please get in contact with our sales department at
  sales@anynines.com.

### Unsupported

- a9s Redis: End of Support: Terminate support for the following deprecated data service versions:
  * a9s Redis 3.2
  * a9s Redis 4

  The creation of new data service instances for these deprecated versions is now disabled by default in the a9s Data
  Service Bundle and we no longer provide regular support for these versions.
  The corresponding documentation has been removed.

  Although we will not intentionally break running instances of these unsupported versions, it cannot be guaranteed
  that they still work as expected after an update to this release.

### Removed

- **breaking change** a9s-pg: Remove obsolete database `serviceguard` since the new a9s CF Service Guard v2 uses
  `cfserviceguard` as database.
- **breaking change** a9s CF Service Guard: Remove deployment manifest `service-guard/service-guard.yml` in favor of
  `cf-service-guard/cf-service-guard.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-elasticsearch-broker-to-service-guard.yml` in favor
  of `cf-service-guard/ops/add-elasticsearch.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-mariadb-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-mariadb.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-mongodb-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-mongodb.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-mysql-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-mysql.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-postgresql-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-postgresql.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-rabbitmq-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-messaging.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-redis-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-redis.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/add-search-broker-to-service-guard.yml` in favor of
  `cf-service-guard/ops/add-search.yml`.
- **breaking change** a9s CF Service Guard: Remove Ops file `ops/service-guard-enable-shared-instances` in favor of
  `cf-service-guard/ops/support-shared-instances.yml`.
- docs: Platform Operator: a9s Messaging: Remove page `a9s Messaging Queue Name Restrictions`. The restriction over the
  use of periods in the RabbitMQ queue names is no longer valid. For more information see
  Using a9s Messaging: Queue Metrics.

### Fixed

- all services: a9s Backup Agent: Fix backup/restore configuration for a9s Elasticsearch, a9s LogMe, a9s LogMe2, and
  a9s OpenSearch to use higher values and avoid timeout errors when dealing with huge backups.
- a9s BOSH Deployer: Allow removal of director configurations when no running/active deployments exist anymore. Before
  it was not possible to remove a director configuration from the a9s BOSH Deployer when the deployments existed at
  some point.
- a9s LogMe2: Fix OpenSearch `node_dn` property to use a regex pattern for accurate matching of certificates,
  eliminating the order dependency in the pattern when using the wildcard pattern.
- a9s PostgreSQL: a9s PostgreSQL 13: Update `postgresql-info-webservice` to correctly identify when one node of the
  cluster is cloning during `post-start` and avoid a timeout failure when cloning takes too long.
- a9s Search2: Fix OpenSearch `node_dn` property to use a regex pattern for accurate matching of certificates,
  eliminating the order dependency in the pattern when using the wildcard pattern.
- docs: Platform Operator: Fix broken link inside a9s Data Services Administrative Tasks.

### Security

- a9s LogMe2, a9s Search2, a9s Logstash: Fix CVEs:
  * CVE-2023-21930
  * CVE-2023-21954
  * CVE-2023-21967
  * CVE-2023-21939
  * CVE-2023-21938
  * CVE-2023-21937
  * CVE-2023-21968
  * CVE-2022-34169
  * CVE-2022-21541
  * CVE-2022-21549
  * CVE-2022-21540

### Stemcell Support

| a9s DS Name          | Stemcell Name | Stemcell Version |
|----------------------|---------------|------------------|
| a9s LogMe            | Bionic        | 1.204 |
| a9s LogMe2           | Jammy         | 1.125 |
| a9s Elasticsearch 7  | Bionic        | 1.204 |
| a9s Elasticsearch 6  | Bionic        | 1.204 |
| a9s Elasticsearch 5  | Bionic        | 1.204 |
| a9s MongoDB 5.0 SSPL | Jammy         | 1.125 |
| a9s MongoDB 4.0 SSPL | Bionic        | 1.204 |
| a9s MongoDB 4.0      | Bionic        | 1.204 |
| a9s MongoDB 3.6      | Bionic        | 1.204 |
| a9s MySQL 10.4       | Jammy         | 1.125 |
| a9s MySQL 10.1       | Xenial        | 621.125 |
| a9s MariaDB 10.6     | Jammy         | 1.125 |
| a9s PostgreSQL 13    | Bionic        | 1.204 |
| a9s PostgreSQL 11    | Bionic        | 1.204 |
| a9s PostgreSQL 10    | Bionic        | 1.204 |
| a9s Messaging 3.10   | Jammy         | 1.125 |
| a9s Messaging 3.8    | Jammy         | 1.125 |
| a9s Messaging 3.7    | Bionic        | 1.204 |
| a9s Redis 7          | Jammy         | 1.125 |
| a9s Redis 6          | Jammy         | 1.125 |
| a9s Redis 5.0        | Jammy         | 1.125 |
| a9s Prometheus       | Jammy         | 1.125 |
| a9s Search 2         | Jammy         | 1.125 |


