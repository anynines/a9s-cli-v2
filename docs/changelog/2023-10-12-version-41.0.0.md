---
tags:
  - a9s
  - changelog
  - anynines-deployment
  - release
keywords:
  - a9s
  - changelog
  - anynines-deployment
  - release

slug: changelog-41.0.0
title: 41.0.0
date: 2023-10-12
---

## 

### Added

- all services: a9s Backup Services: Add the option to enable the use of AWS IAM Profiles
  when using an AWS S3 storage.
  For more information see Using AWS Instance Profiles
- all services: a9s Backup Agent: Add support to a9s PostgreSQL 15.
- all services: a9s Logstash: Add support to a9s PostgreSQL 15.
- all services: a9s Template Uploader Errand: Add templates for a9s PostgreSQL 15.
- a9s PostgreSQL: Add example config for a9s PostgreSQL 15 to `postgresql.yml.example`.
- a9s PostgreSQL: Add new custom parameter `maintenance_work_mem`.
  For more information see Service Instance Resource Usage.
- a9s PostgreSQL: Release a9s PostgreSQL 15 as RC. For more information see
  a9s Platform Operator - Sunrise Sunset.
- docs: Application Developer: a9s Elasticsearch: Add deprecation notice to a9s Elasticsearch's documentation. For more
  information see a9s Elasticsearch.
- docs: Application Developer: a9s LogMe: Add deprecation notice to a9s LogMe's documentation. For more information see
  a9s LogMe.
- docs: Platform Operator: Add a9s LogMe2 templates' information to the `Available Templates` page. For more information
  see Service Catalog - Available Templates.
- docs: Platform Operator: Add a9s Redis 7 templates' information to the `Available Templates` page. For more
  information see Service Catalog - Available Templates.
- docs: Platform Operator: Add a dedicated section for the Service Catalog. For more information see Service Catalog.
- docs: Platform Operator: Extract available templates from `Service Plans` page and add them as dedicated
  `Availble Templates` page under the `Service Catalog` section. For more information see
  Service Catalog - Available Templates.
- docs: Platform Operator: a9s Backup Services: Add a new documentation page describing the configuration and use of
  `AWS Instance Profiles` in the a9s Backup Service. For more information see
  Using AWS Instance Profiles.
- docs: Platform Operator: a9s Backup Services: Add an admonition to the Disaster Recovery documentation, explaining the
  necessary changes to the plugin configuration when using `AWS Instance Profiles` in the a9s Backup Service. For more
  information see Disaster Recovery.
- docs: Platform Operator: a9s Elasticsearch: Add deprecation notice to a9s Elasticsearch's documentation. For more
  information see a9s Elasticsearch.
- docs: Platform Operator: a9s LogMe: Add deprecation notice to a9s LogMe's documentation. For more information see
  a9s LogMe.
- docs: Platform Operator: a9s PostgreSQL: Add the new `standby_latest_receive_wal` value in the Cluster Status
  documentation. For more information see Cluster Status.
- docs: Platform Operator: a9s PostgreSQL: Add new section, within the a9s PostgreSQL documentation, that describes the
  the a9s PostgreSQL Ubunty Jammy Upgrade. For more information see PostgreSQL Jammy Upgrade.
- docs: Platform Operator: a9s Service Broker: Add a dedicated section for the a9s Service Broker. For more information
  see a9s Service Broker.
- *INTERNAL RELEASE* all services: Add `.gitkeep` to `ops/enable_rc_services` to keep the folder visible in the
  `anynines-deployment` Git repository.

### Changed

- all services: Adapt Consul-DNS to display the state `failing` as soon as the Consul connection is gone for more than
  one minute. Once the connection resumes, the state will switch back to `running`.
- all services: Update BOSH releases:
  * `routing` BOSH release to version `0.281.0`
  * `bpm` BOSH release to version `1.2.7`
- all services: Update support URLs in example config files.
- all services: a9s Dashboard: Update dependencies in the a9s Service Dashboard.
- all services: a9s Template Uploader: Add new Templates for a9s PostgreSQL 13 Bionic plans.
- a9s-pg:
  * PostgreSQL 11.21 **Important** a9s-pg currently does not support `ubuntu-jammy`!
- a9s Elasticsearch: Update dependencies in the a9s Elasticsearch SPI.
- a9s LogMe: Update dependencies in the a9s LogMe SPI.
- a9s LogMe2: Update dependencies in the a9s LogMe2 SPI.
- a9s MariaDB: Update dependencies in the a9s MariaDB SPI.
- a9s MariaDB:
  * a9s MariaDB 10.4:
    * MariaDB 10.4.31
- a9s Messaging:
  * a9s Messaging 3.10:
    * Erlang 24.3.4.13
    * RabbitMQ 3.10.25
- a9s Messaging: Update documentation URLs in the example config file.
- a9s MongoDB: Change reference from `mongodb34` to `mongodb40`  on property `sso-proxy.dashboard_client_id` of the
  `sso-proxy` job of the `service-dashboard` instance group in the `mongodb-service/mongodb-service.yml`.
- a9s MongoDB: Update dependencies in the a9s MongoDB SPI.
- a9s MongoDB:
  * a9s MongoDB 5.0:
    * MongoDB 5.0.20
- a9s MySQL: Update dependencies in the a9s MySQL SPI.
- a9s PostgreSQL:
  * a9s PostgreSQL 11:
    * PostgreSQL 11.21
- a9s PostgreSQL: a9s PostgreSQL 13: Changed paths of the recovery and standby files to `recovery.signal` and
  `standby.signal`.
- a9s PostgreSQL: SPI: Add support to PostgreSQL v15 with capabilities to handle the new schema configuration.
- a9s Prometheus: Update dependencies in the a9s Prometheus SPI.
- a9s Prometheus:
  * `promgraf2`:
    * alertmanager 0.26.0
    * bosh_exporter 3.6.0
    * cadvisor 0.47.3
    * jq 1.7
    * postgres_exporter 0.13.2
    * prometheus 2.47.0
  * `prometheus`:
    * alertmanager 0.26.0
    * bosh_exporter 3.6.0
    * cadvisor 0.47.3
    * jq 1.7
    * postgres_exporter 0.13.2
    * prometheus 2.47.0
- a9s Redis: Change reference from `redis40` to `redis7` on property `sso-proxy.dashboard_client_id` of the `sso-proxy`
  job of the `service-dashboard` instance group in the `redis-service/redis-service.yml`.
- a9s Redis: Update dependencies in the a9s Redis SPI.
- a9s Redis:
  * a9s Redis 7:
    * Redis 7.2.1
- a9s Search: Update dependencies in the a9s Search SPI.
- a9s Search:
  * a9s Search 2:
    * opensearch 2.9.0
    * opensearch-dashboards 2.9.0
    * opensearch-plugin-repository-azure 2.9.0
    * opensearch-plugin-repository-s3 2.9.0
- docs: Application Developer: a9s Backup Services: Improve clarity of the disaster recovery documentation regarding
  usage restrictions.
  For more information see Disaster Recovery.
- docs: Application Developer: a9s LogMe: Update documentation URL in documentation example.
  For more information see
  Using a9s LogMe - See Your Applications Logs.
- docs: Application Developer: a9s LogMe2: Update documentation URL in documentation example.
  For more information see
  Using a9s LogMe2 - See Your Applications Logs.
- docs: Application Developer: a9s PostgreSQL: Add new custom parameter `maintenance_work_mem`.
  For more information see Using a9s PostgreSQL.
- docs: Application Developer: a9s PostgreSQL: Enhance the documentation to comprehensively address the distinctions
  between PostgreSQL 15 and its predecessor versions. For more information see
  a9s PostgreSQL - Overview.
- docs: Application Developer: a9s PostgreSQL: Add descriptions for the new metrics implemented on a9s Postgresql 15.
  For more information see a9s Postgresql Documentation.
- docs: Application Developer: a9s PostgreSQL: Update the dump and restore documentation regarding
  PostgreSQL 15 public schema changes. For more information see:
  a9s Application Developer - Using a9s PostgreSQL.
- docs: Application Developer: a9s PostgreSQL: Update the forking service instance documentation section to
  add the method limitations. For more information see:
  a9s Application Developer - Using a9s PostgreSQL.
- docs: Application Developer: a9s Prometheus: Update documentation URL in documentation example.
  For more information see
  Using a9s Prometheus - Access the a9s Prometheus Dashboards.
- docs: Platform Operator: Improve clarity of the disaster recovery documentation regarding usage restrictions. For more
  information see Disaster Recovery.
- docs: Platform Operator: Improve the documentation in the "Interact with the Backup Manager" section of the
  "Administrative Tasks" page.
  For more information see a9s Data Services Administrative Tasks.
- docs: Platform Operator: Update documentation URL in documentation example for the Service Plans.
  For more information see
  Customizing the Documentation and Support URLs.
- docs: Platform Operator: Update the Stemcell documentation with information about Jammy Stemcell. For more
  information see Stemcells.
- docs: Platform Operator: Update the wildcard certificates documentation to reflect the latest changes
  regarding the vendored dashboards. For more information see
  a9s Platform Operator - Wildcard Certificates.
- docs: Platform Operator: Add a9s LogMe2 port information to the table.
  For more information see a9s Platform Required Ports.
- docs: Platform Operator: Add a9s Search port information to the table.
  For more information see a9s Platform Required Ports.
- docs: Platform Operator: Update documentation URL in documentation example for the Service catalog.
  For more information see Services Configuration.
- docs: Platform Operator: Update vendor versions for multiple data services in the Release Lifecycle Table. For
  more information see Release Lifecycle Table
- docs: Platform Operator: Move page `Service Plans` under the `Service Catalog` section. For more information see
  Service Catalog - Service Plans.
- docs: Platform Operator: a9s Consul: Set proper title for the a9s Consul Properties page. For more information see
  a9s Consul - Properties.
- docs: Platform Operator: a9s MongoDB: Make correction to refer to MongoDB v5.0 as Generally Available instead of
  Release Candidate. For more information see
  a9s Platform Operator - Wildcard Certificates.
- docs: Platform Operator: a9s PostgreSQL: Update the service instance resource limits list regarding the new custom
  parameter `maintenance_work_mem`. For more information see Service Instance Resource Usage.
- docs: Platform Operator: a9s PostgreSQL: Enhance the documentation to provide comprehensive coverage of the new Data
  Service version, including key differentiators between a9s PostgreSQL 15 and its earlier iterations.
  For more information see a9s-pg Manual Logical Backup Recovery,
  a9s PostgreSQL Resources Considerations,
  a9s Postgresql Cluster Recovery,
  Replication Lag,
  a9s PostgreSQL Manual Logical Backup Recovery,
  a9s PostgreSQL Manual Point-in-Time Recovery,
  Cluster Status,
  Template Uploader Errand,
  a9s Platform Required Ports.
- docs: Platform Operator: a9s Redis: Clarify the difference between tls-ciphers and tls-ciphersuites Redis SPI
  parameters. For more information see Redis SPI Parameters.
- docs: Platform Operator: a9s Service Broker: Move page `a9s Service Broker Properties` under the `a9s Service Broker`
  section. For more information see a9s Service Broker - Properties.
- docs: Platform Operator: a9s Service Broker: Move page `Cleanup Purged Service Instances` under the
  `a9s Service Broker` section. For more information see a9s Service Broker - Cleanup Purged Service Instances.
- docs: Platform Operator: a9s Service Broker: Move page `Configure Broker Callback URL` under the `a9s Service Broker`
  section. For more information see a9s Service Broker - Configure a Callback URL.
- docs: Platform Operator: a9s Service Broker: Move page `Configure a9s Service Broker To Block Automatic Updates` under
  the `a9s Service Broker` section. For more information see a9s Service Broker - Block Automatic Updates.
- docs: Platform Operator: a9s Service Broker: Move page `Service Instance Limits` under the `a9s Service Broker`
  section. For more information see a9s Service Broker - Service Instance Limits.
- docs: Platform Operator: a9s Service Dashboard: Update the a9s Service Dashboard documentation with the new dashboard
  customization properties. For more information see Customize Color Theme.
- docs: Platform Operator: a9s Service Dashboard: Move page `a9s Dashboard - Error Codes` under the
  `a9s Service Dashboard` section. For more information see a9s Service Dashboard - Error Codes.
- docs: Platform Operator: a9s Service Dashboard: Move page `Dashboard - Static Navigation Entries` under the
  `a9s Service Dashboard` section. For more information see a9s Service Dashboard - Static Navigation Entries.
- docs: Platform Operator: a9s Service Dashboard: Move page `Dashboard - Support Mail Address` under the
  `a9s Service Dashboard` section. For more information see a9s Service Dashboard - Support Mail Address.
- BOSH stemcell: all services: Update Jammy stemcell to version `1.232` for internal tests of all supported services.
- BOSH stemcell: a9s PostgreSQL: Use stemcell `ubuntu-jammy` version `1.232` for all internal tests of
  a9s PostgreSQL 13. **WARNING** Please make sure you are aware of the limitations that come with stemcell upgrades of
  existing a9s PostgreSQL 13 instances or upgrades from lower versions! Carefully read
  a9s Platform Operator - Updating PostgreSQL 13 to Jammy
  before upgrading a9s PostgreSQL 13 instances to `ubuntu-jammy`.
- *INTERNAL RELEASE* a9s Backup Manager: The collection of the Backup Manager metrics is now configurable.

### Removed

- a9s-pg: Remove the deprecated variable `a9s_pg_backup_encrypt_password` from `a9s-pg/a9s-pg.yml`.
- docs: all services: Remove the unused `docs/changelog` path, and its contents, from the documentation structure.
- docs: Application Developer: Remove duplicate page of the `Creating Local Copy of the Data` from the a9s MongoDB
  documentation. For more information see Creating Local Copy of the Data.
- docs: Platform Operator: Remove obsolete overview page of the a9s Service Broker. The main content is moved to the
  a9s Service Broker section. For more information see a9s Service Broker.
- docs: Platform Operator: Remove obsolete `Service Catalog` page from the common section. The main content is moved to
  the `Service Catalog` section. For more information see Service Catalog.

### Fixed

- all services: Fixed Parachute plugin to disable a9s Parachute when `max_disk_threshold` custom parameter is
  set to `0`.
- a9s LogMe2: Replaced the variable `/cf_nats_password` by the variables `/cf_nats_credentials.username` and
  `/cf_nats_credentials.password` on the template-uploader variables.
- a9s Messaging: Fix a bug that prevents the drain script to terminate peacefully when the RabbitMQ service is already
  stopped.
- a9s PostgreSQL: a9s PostgreSQL 13: Fix cloning happening again during `monit start` after it already happened during
  pre-start.
- a9s PostgreSQL: a9s PostgreSQL 13: Fix switchover that, in some situations, was electing the wrong node to be
  promoted to primary.
- docs: all services: Fix broken documentation links after the restructuring of multiple documentation path.
- docs: all services: Fix the internal documentation links so that they fit the current `TrailingSlash` configuration of
  our `Docusaurus` settings.
- docs: Platform Operator: Fix a typo in the Target Group section
  of the a9s Data Service Framework Recovery documentation.
- docs: Platform Operator: a9s PostgreSQL: Fix the Manual Point-in-Time Recovery by adding the differences when
  recovering a9s PostgreSQL version equals and above the 13 version. Moreover, fix some misleading step instructions in
  the same documentation. For more information see:
  a9s PostgreSQL Manual Point-in-Time Recovery.
- docs: Platform Operator: a9s Redis: Fix the typo in the ID in the page's metadata and the broken links in the
  `a9s Redis SPI Configuration` page. For more information see Redis SPI Parameters.

### Security

- all services: a9s Service Dashboard: Fix CVEs:
  * CVE-2020-36632
  * CVE-2021-44906
  * CVE-2022-3517
  * CVE-2022-24999
- a9s PostgreSQL: SPI: Fix CVEs:
  * CVE-2023-27530
  * CVE-2023-27539

### Upcoming

- a9s MongoDB: End of Support: Terminate support, starting from anynines deployment v42.0.0
  (expected end of October 2023), for the following deprecated data service versions:
  * a9s MongoDB 3.x
  * a9s MongoDB 4.0

  The creation of new Data Service Instances for these deprecated versions will be disabled by default in the a9s Data
  Service Bundle and we will not provide regular support for these versions.
  The corresponding documentation will also be removed.

  Although we will not intentionally break running instances of these unsupported versions, it cannot be guaranteed
  that they still work as expected after an update to v42.0.0.

### Stemcell Support

| a9s DS Name          | Stemcell Name | Stemcell Version |
|----------------------|---------------|------------------|
| a9s LogMe            | Bionic        | 1.204 |
| a9s LogMe2           | Jammy         | 1.232 |
| a9s Elasticsearch 7  | Bionic        | 1.204 |
| a9s Elasticsearch 6  | Bionic        | 1.204 |
| a9s Elasticsearch 5  | Bionic        | 1.204 |
| a9s MongoDB 5.0 SSPL | Jammy         | 1.232 |
| a9s MongoDB 4.0 SSPL | Bionic        | 1.204 |
| a9s MongoDB 4.0      | Bionic        | 1.204 |
| a9s MongoDB 3.6      | Bionic        | 1.204 |
| a9s MySQL 10.4       | Jammy         | 1.232 |
| a9s MySQL 10.1       | Xenial        | 621.232 |
| a9s MariaDB 10.6     | Jammy         | 1.232 |
| a9s PostgreSQL 13    | Jammy         | 1.232 |
| a9s PostgreSQL 11    | Bionic        | 1.204 |
| a9s PostgreSQL 10    | Bionic        | 1.204 |
| a9s Messaging 3.10   | Jammy         | 1.232 |
| a9s Messaging 3.8    | Jammy         | 1.232 |
| a9s Messaging 3.7    | Bionic        | 1.204 |
| a9s Redis 7          | Jammy         | 1.232 |
| a9s Redis 6          | Jammy         | 1.232 |
| a9s Redis 5.0        | Jammy         | 1.232 |
| a9s Prometheus       | Jammy         | 1.232 |
| a9s Search 2         | Jammy         | 1.232 |

